<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MapQuest Directions API Example</title>
  <script src="https://cdn.jsdelivr.net/npm/leaflet/dist/leaflet.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet/dist/leaflet.css" />
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
  <h1>MapQuest Directions API Example</h1>
  <div id="map" style="height: 400px;"></div>

  <script>
    // Your MapQuest API key
    const apiKey = 'kBEVbZm3gsQjxw9AxkAwjUbICySUacls';

    // Origin and destination
    const origin = 'Ldrp-itr Gandhinagar gujarat india';
    const destination = 'ahmedabad gujarat india';

    // Make a request to the MapQuest Directions API
    axios.get(`https://www.mapquestapi.com/directions/v2/route?key=${apiKey}&from=${origin}&to=${destination}`)
      .then(response => {
        const route = response.data.route;

        // Initialize the map
        const map = L.map('map').setView([0, 0], 2);

        // Add MapQuest tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: 'Map data Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap contributors</a>',
        }).addTo(map);

        // Extract route coordinates
        const routeCoordinates = route.shape.shapePoints.map((point, index) => index % 2 === 0 ? [point, route.shape.shapePoints[index + 1]] : null).filter(Boolean);

        // Add route polyline to the map
        L.polyline(routeCoordinates, { color: 'blue' }).addTo(map);

        // Fit the map to the route
        map.fitBounds(L.polyline(routeCoordinates).getBounds());
      })
      .catch(error => {
        console.error('Error fetching directions:', error);
      });
  </script>
</body>
</html>
